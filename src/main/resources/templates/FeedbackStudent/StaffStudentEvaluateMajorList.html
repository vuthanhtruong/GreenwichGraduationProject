<!-- src/main/resources/templates/staff/StudentEvaluateMajorList.html -->
<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Evaluations - Major Lecturers</title>

    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" th:href="@{/StudentsList.css}">
</head>

<body>
<div class="win11-container">

    <!-- Toolbar -->
    <div class="search-toolbar unified-bar">
        <div class="toolbar-left">
            <a th:href="@{/staff-home}" class="btn home-btn">
                Home
            </a>
            <h2 class="page-title">
                Student Evaluations - Major Lecturers
            </h2>
        </div>

        <div class="toolbar-right">
            <span class="badge large info">
                Total: [[${total}]] evaluations
            </span>
        </div>
    </div>

    <!-- Evaluations List -->
    <div class="table-container">

        <div th:if="${evaluations != null and !#lists.isEmpty(evaluations)}">

            <div th:each="e : ${evaluations}"
                 class="win11-panel evaluation-item">

                <div class="evaluation-header">

                    <img th:if="${e.reviewer.avatar != null}"
                         th:src="@{'/student-home/avatar/' + ${e.reviewer.id}}"
                         class="avatar large"
                         alt="Student"/>

                    <img th:if="${e.reviewer.avatar == null}"
                         th:src="${e.reviewer.defaultAvatarPath}"
                         class="avatar large"
                         alt="Default"/>

                    <div class="evaluation-meta">
                        <strong th:text="${e.reviewer.fullName}"></strong>

                        <small class="evaluation-date">
                            evaluated
                            <strong th:text="${e.lecturer.fullName}"></strong>
                            • Class:
                            <span th:text="${e.classEntity.nameClass}"></span>
                            •
                            <span th:text="${#temporals.format(e.createdAt, 'dd/MM/yyyy HH:mm')}"></span>
                        </small>

                        <div class="evaluation-text"
                             th:utext="${e.text != null ? e.text.replace('\n', '<br>') : 'No comment.'}">
                        </div>
                    </div>

                </div>

            </div>

        </div>

        <!-- Empty State -->
        <div th:if="${evaluations == null or #lists.isEmpty(evaluations)}"
             class="empty-state">
            <i class="fas fa-comment-slash fa-3x"></i>
            <h3>No student evaluations yet.</h3>
        </div>

    </div>

</div>
</body>
</html>
